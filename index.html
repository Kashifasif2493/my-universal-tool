<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate SEO Writing Tool Pro - No Yellow</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
:root{
  --bg: linear-gradient(135deg,#141E30,#243B55); /* Dark gradient */
  --card: rgba(255,255,255,0.07);
  --text: #fff;
  --accent: linear-gradient(135deg,#ff00cc,#3333ff);
}

.light{
  --bg: linear-gradient(135deg, #a1c4fd, #c2e9fb); /* Light mode - blue gradient */
  --card: rgba(255,255,255,0.05);
  --text: #222;
}

body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:var(--bg);
  color:var(--text);
  transition:.4s;
}

.container{
  max-width:1200px;
  margin:30px auto;
  padding:25px;
  background:var(--card);
  backdrop-filter:blur(20px);
  border-radius:20px;
  box-shadow:0 0 50px rgba(0,0,0,.4);
}

h1{text-align:center;margin-bottom:20px;}

textarea{
  width:100%;
  height:250px;
  border:none;
  border-radius:15px;
  padding:15px;
  font-size:16px;
  outline:none;
  resize:none;
}

.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:15px;
  margin-top:20px;
}

.box{
  background:var(--accent);
  padding:15px;
  border-radius:15px;
  text-align:center;
  font-weight:bold;
}

.progress{
  width:100%;
  height:8px;
  background:#444;
  border-radius:10px;
  overflow:hidden;
  margin-top:5px;
}

.bar{
  height:8px;
  width:0%;
  background:linear-gradient(90deg,#00f260,#0575e6);
}

.circle{
  width:120px;
  height:120px;
  border-radius:50%;
  background:conic-gradient(#00f260 0%, #444 0%);
  display:flex;
  align-items:center;
  justify-content:center;
  margin:auto;
  font-size:22px;
  font-weight:bold;
}

button{
  padding:8px 15px;
  margin:5px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:var(--accent);
  color:#fff;
  font-weight:bold;
}

.toggle{
  float:right;
  cursor:pointer;
  font-size:14px;
}

.highlight{
  background:rgba(255,0,0,0.3);
}
</style>
</head>

<body>
<div class="container">
  <span class="toggle" onclick="toggleMode()">ðŸŒ™ Toggle</span>
  <h1>ðŸš€ Ultimate SEO Writing Tool PRO</h1>

  <select id="language" onchange="update()">
    <option value="en">English</option>
    <option value="ur">Urdu</option>
    <option value="es">Spanish</option>
  </select>

  <textarea id="text" placeholder="Start writing here..."></textarea>

  <div class="stats">
    <div class="box">Words<br><span id="words">0</span></div>
    <div class="box">Characters<br><span id="chars">0</span></div>
    <div class="box">Reading Time<br><span id="read">0</span> min</div>
    <div class="box">WPM<br><span id="wpm">0</span></div>
  </div>

  <h3 style="text-align:center;margin-top:20px;">SEO Score</h3>
  <div class="circle" id="circle">0%</div>

  <h4>Meta Title (60 characters)</h4>
  <div class="progress"><div class="bar" id="metaBar"></div></div>

  <h4>Meta Description (160 characters)</h4>
  <div class="progress"><div class="bar" id="descBar"></div></div>

  <h3>Top Keywords</h3>
  <div id="keywords"></div>

  <div id="passive" style="color:#ff8080;font-weight:bold;margin-top:10px;"></div>

  <div style="text-align:center;margin-top:15px;">
    <button onclick="toUpper()">UPPERCASE</button>
    <button onclick="toLower()">lowercase</button>
    <button onclick="capitalize()">Capitalize</button>
    <button onclick="sentence()">Sentence case</button>
    <button onclick="downloadTXT()">TXT</button>
    <button onclick="downloadPDF()">PDF</button>
    <button onclick="clearText()">Clear</button>
  </div>
</div>

<script>
let startTime = Date.now();
const textarea = document.getElementById("text");

textarea.addEventListener("input", update);

function update(){
    let text = textarea.value;
    localStorage.setItem("seoProText", text);

    let words = text.trim().split(/\s+/).filter(Boolean);
    let wordCount = words.length;
    let charCount = text.length;

    document.getElementById("words").innerText = wordCount;
    document.getElementById("chars").innerText = charCount;
    document.getElementById("read").innerText = (wordCount / 200).toFixed(2);

    let minutes = (Date.now() - startTime) / 60000;
    document.getElementById("wpm").innerText = minutes > 0 ? (wordCount / minutes).toFixed(0) : 0;

    // SEO Score
    let score = 0;
    if(wordCount>=300) score+=30;
    if(wordCount>=600) score+=20;
    if(text.match(/<h[1-6]>.*?<\/h[1-6]>/gi)) score+=20;
    if(wordCount>10) score+=30;

    document.getElementById("circle").innerText = score + "%";
    document.getElementById("circle").style.background = "conic-gradient(#00f260 " + score + "%, #444 " + score + "%)";

    document.getElementById("metaBar").style.width = Math.min((charCount/60)*100,100) + "%";
    document.getElementById("descBar").style.width = Math.min((charCount/160)*100,100) + "%";

    let freq = {};
    words.forEach(w=>{
        w=w.toLowerCase();
        if(w.length>3) freq[w]=(freq[w]||0)+1;
    });
    let sorted = Object.entries(freq).sort((a,b)=>b[1]-a[1]).slice(0,5);
    let out="";
    sorted.forEach(i=>{
        let p=((i[1]/wordCount)*100).toFixed(1);
        out+=i[0]+" - "+p+"%<br>";
    });
    document.getElementById("keywords").innerHTML=out;

    let passive=text.match(/\b(is|was|were|been|being|am|are|be)\b/gi);
    document.getElementById("passive").innerText=passive?"Passive Voice Found: "+passive.length:"";

    basicGrammarCheck(text);
}

function basicGrammarCheck(text){
    let mistakes=text.match(/\b(very very|good good|bad bad)\b/gi);
    if(mistakes){ document.getElementById("passive").innerText+=" | Repeated Words Found"; }
}

function toggleMode(){ document.body.classList.toggle("light"); }

function toUpper(){ textarea.value=textarea.value.toUpperCase(); update(); }
function toLower(){ textarea.value=textarea.value.toLowerCase(); update(); }
function capitalize(){ textarea.value=textarea.value.replace(/\b\w/g,l=>l.toUpperCase()); update(); }
function sentence(){ textarea.value=textarea.value.replace(/(?:^|[.!?]\s+)([a-z])/g,(m,p)=>p.toUpperCase()); update(); }
function clearText(){ textarea.value=""; update(); }

function downloadTXT(){ let blob=new Blob([textarea.value],{type:"text/plain"}); let link=document.createElement("a"); link.href=URL.createObjectURL(blob); link.download="content.txt"; link.click(); }

function downloadPDF(){
    const { jsPDF }=window.jspdf;
    let doc=new jsPDF();
    let lines=textarea.value.split("\n");
    let y=10;
    lines.forEach(line=>{
        doc.text(line,10,y);
        y+=10;
        if(y>280){ doc.addPage(); y=10; }
    });
    doc.save("content.pdf");
}

window.onload=function(){
    let saved=localStorage.getItem("seoProText");
    if(saved){ textarea.value=saved; update(); }
}
</script>
</body>
</html>
